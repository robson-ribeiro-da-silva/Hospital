#{extends 'principal.html' /}
#{set title:'Formulário Medico' /}

%{
	String tituloAcaoForm = medico.id == null? "Cadastrar":"Salvar Alterações"; 
	String tituloForm = medico.id == null? "Cadastro":"Edição";
}%

<meta charset="utf-8">
<div id="pacie">
<div class="card mb-3">
	<div class="card-header">
		<i class="fa fa-bookmark"></i> ${tituloForm} de Medico</div>
	<div class="card-body">
          
		<form action="@{Medicos.salvar}" name="Filter" class="form" method="post">
			
			<input type="hidden" value="${medico?.id}" name="medico.id">
			
				<h6><b>Identificação</b></h6>
				<div class="row">
					<div class="form-group col-md-5">
					   <label for="formGroupExampleInput"><h11>*</h11>Nome:</label>
					   <input class="form-control" id="nome" type="text" value="${medico?.nome}" name="medico.nome" placeholder="Ex: Joao Helis Junior de Azevedo Bernardo">
					</div>
					
					<div class="form-group col-md-2">
					   	<label for="formGroupExampleInput"><h11>*</h11>Sexo:</label>
					   	<select class="form-control" id="sexo" value="${medico?.sexo}" name="medico.sexo">
							<option selected="" value="">Selecione o Sexo</option>
							#{list items:sexos, as: 'sexo'}
								<option value="${sexo}" ${(medico?.sexo != null && medico.sexo == sexo)? 'selected':''}>${sexo}</option>
							#{/list}
					   	</select>
					</div>
					
					<div class="form-group col-md-3">
					   <label for="formGroupExampleInput"><h11>*</h11>Data de Nascimento:</label>
					   <input class="form-control" id="dataNas" type="date" value="${medico?.dataNas}" name="medico.dataNas">
					</div>
					
					<div class="form-group col-md-2">
					   	<label for="formGroupExampleInput"><h11>*</h11>Estado Civil:</label>
					   	<select class="form-control" id="estCivil" value="${medico?.estCivil}" name="medico.estCivil">
							<option selected="" value="">Selecione</option>
							#{list items:estadosCivis, as: 'estadocivil'}
								<option value="${estadocivil}" ${(medico?.estCivil != null && medico.estCivil == estadocivil)? 'selected':''}>${estadocivil}</option>
							#{/list}
					   	</select>
					</div>
				</div>
				
				<div class="row">	
					
					<div class="form-group col-md-3">
					   <label for="formGroupExampleInput"><h11>*</h11>Estado:</label>
					   <select class="form-control" id="naturalEstado" value="${medico?.naturalEstado}" name="medico.naturalEstado">
		
					   	</select>
					</div>
					
					<div class="form-group col-md-2">
					   <label for="formGroupExampleInput""><h11>*</h11>Naturalidade:</label>
					   <select class="form-control" id="naturalCidade" value="${medico?.naturalCidade}" name="medico.naturalCidade">
					   
					   </select>
					</div>
					
					
					<div class="form-group col-md-2">
					   	<label for="formGroupExampleInput"><h11>*</h11>Nacionalidade:</label>
					   	<select class="form-control" id="nacionalidade" type="text" value="${medico?.nacionalidade}" name="medico.nacionalidade">
							<option selected="" value="">Selecione</option>
							#{list items:nacionalidades, as: 'nacionalidade'}
								<option value="${nacionalidade}" ${(medico?.nacionalidade != null && medico.nacionalidade == nacionalidade)? 'selected':''}>${nacionalidade}</option>
							#{/list}
						</select>
					</div>
					
					<div class="form-group col-md-2">
					   <label for="formGroupExampleInput"><h11>*</h11>CPF:</label>
					   <input class="form-control" id="cpf" type="text" maxlength="14" value="${medico?.cpf}" name="medico.cpf" onkeydown="javascript: fMasc( this, mCPF );" placeholder="Ex.: 000.000.000-00">
					</div>
					
					<div class="form-group col-md-3">
					   <label for="formGroupExampleInput"><h11>*</h11>RG:</label>
					   <input class="form-control" id="rg" type="text" maxlength="11" value="${medico?.rg}" name="medico.rg" onkeydown="javascript: fMasc( this, mRG );" placeholder="Ex.: 00000.000-0">
					</div>
				</div>
				
				<div class="row">
					<div class="form-group col-md-3">
					   <label for="formGroupExampleInput"><h11>*</h11>Celular:</label>
					   <input class="form-control" id="telefone" maxlength="14" type="text" maxlength="14" value="${medico?.telefone}" name="medico.telefone" onkeydown="javascript: fMasc( this, mTel);" placeholder="Ex.: (00)00000-0000">
					</div>
					
					<div class="form-group col-md-2">
					   <label for="formGroupExampleInput"><h11>*</h11>UF do CRM:</label>
					   <select class="form-control" id="UFcrm" value="${medico?.UFcrm}" name="medico.UFcrm">
							<option selected="" value="">UF </option>
							#{list items:estados, as: 'UFcrm'}
								<option value="${UFcrm}" ${(medico?.UFcrm != null && medico.UFcrm == UFcrm)? 'selected':''}>${UFcrm}</option>
							#{/list}
					   	</select>
					</div>
					
					<div class="form-group col-md-2">
					   <label for="formGroupExampleInput"><h11>*</h11>N° CRM:</label>
					   <input class="form-control" id="numCRM" type="text" maxlength="10" value="${medico?.numCRM}" name="medico.numCRM">
					</div>
					
					<div class="form-group col-md-5">
					   <label for="formGroupExampleInput"><h11>*</h11>E-mail:</label>
					   <input class="form-control" id="email" type="email" value="${medico?.email}" name="medico.email" placeholder="Ex.: anonymous@email.com">
					</div>
				</div>	
				
				</br>
				<h6><b>Formação Médica</b></h6>
				<div class="row">
					<div class="form-group col-md-4">
					   <label for="formGroupExampleInput"><h11>*</h11>Formado em:</label>
					   <input class="form-control" id="nomeFacul" type="text" value="${medico?.nomeFacul}" name="medico.nomeFacul" placeholder="Ex.: Medicina">
					</div>
					
					<div class="form-group col-md-2">
					   <label for="formGroupExampleInput"><h11>*</h11>Ano de Conclusão:</label>
					   <input class="form-control" id="anoConc" type="text" maxlength="4" value="${medico?.anoConc}" name="medico.anoConc" placeholder="Ex.: 2000">
					</div>	
					
					<div class="form-group col-md-3">
					   <label for="formGroupExampleInput"><h11>*</h11>Residencia em:</label>
					   <input class="form-control" id="residencia" type="text" value="${medico?.residencia}" name="medico.residencia">
					</div>
					
					<div class="form-group col-md-3">
					   <label for="formGroupExampleInput"><h11>*</h11>Orgão Reg. Residencia:</label>
					   <input class="form-control" id="orgResid" type="text" value="${medico?.orgResid}" name="medico.orgResid">
					</div>
				</div>
				
				<div class="row">
					<div class="form-group col-md-4">
					   <label for="formGroupExampleInput"><h11>*</h11>Especialidade principal:</label>
					   <input class="form-control" id="espPrincipal" type="text" value="${medico?.espPrincipal}" name="medico.espPrincipal" placeholder="Ex.: Fonoaudiologia">
					</div>
					
					<div class="form-group col-md-4">
					   <label for="formGroupExampleInput"><h11>*</h11>Titulo (formação):</label>
					   <input class="form-control" id="titFormacao" type="text" value="${medico?.titFormacao}" name="medico.titFormacao">
					</div>
				</div>	
				
				</br>
				<h6><b>Endereço Residencial</b></h6>
				<div class="row">
					<div class="form-group col-md-5">
					   <label for="formGroupExampleInput"><h11>*</h11>Rua ou Avenida:</label>
					   <input class="form-control" id="rua" type="text" value="${medico?.rua}" name="medico.rua">
					</div>
					
					<div class="form-group col-md-1">
					   <label for="formGroupExampleInput"><h11>*</h11>Número:</label>
					   <input class="form-control" id="numCasa" type="text" value="${medico?.numCasa}" name="medico.numCasa">
					</div>
					
					<div class="form-group col-md-2">
					   <label for="formGroupExampleInput"><h11>*</h11>Complemento:</label>
					   <input class="form-control" id="complemento" type="text" value="${medico?.complemento}" name="medico.complemento" placeholder="Ex.: casa">
					</div>
					
					<div class="form-group col-md-4">
					   <label for="formGroupExampleInput"><h11>*</h11>Bairro:</label>
					   <input class="form-control" id="bairro" type="text" value="${medico?.bairro}" name="medico.bairro" placeholder="Nome do bairro em que reside">
					</div>
				</div>
				
				<div class="row">
					<div class="form-group col-md-3">
					   <label for="formGroupExampleInput""><h11>*</h11>Estado:</label>
					   <select class="form-control" id="estado" value="${medico?.estado}" name="medico.estado">
							
					   	</select>
					</div>
				
					<div class="form-group col-md-4">
					   <label for="formGroupExampleInput""><h11>*</h11>Cidade:</label>
					   <select class="form-control" id="cidade" value="${medico?.cidade}" name="medico.cidade">
					   
					   </select>
					</div>					
					
					<div class="form-group col-md-2">
					   <label for="formGroupExampleInput"><h11>*</h11>CEP:</label>
					   <input class="form-control" id="cep" type="text" maxlength="10" value="${medico?.cep}" name="medico.cep" onkeydown="javascript: fMasc( this, mCEP );" placeholder="Ex.: 00.000-000">
					</div>
				</div>
				<h12>* Campo Obrigátorio</h12>
				
				<div class="modal-footer">
					<input class="btn btn-success" type="submit" value="${tituloAcaoForm}">
					<button type="reset" class="btn btn-default" data-dismiss="modal">Limpar</button>
				</div>

			</form>
		</div>
	</div>
</div>


<script src="@{'/public/bootstrap/js/cidades-estados-utf8.js'}" type="text/javascript" charset="${_response_encoding}"></script>
<script src="@{'/public/bootstrap/js/CidadeEstado.js'}" type="text/javascript" charset="${_response_encoding}"></script>

<script type="text/javascript">
	function fMasc(objeto, mascara) {
		obj = objeto
		masc = mascara
		setTimeout("fMascEx()", 1)
	}
	function fMascEx() {
		obj.value = masc(obj.value)
	}
	function mTel(tel) {
		tel = tel.replace(/\D/g, "")
		tel = tel.replace(/^(\d)/, "($1")
		tel = tel.replace(/(.{3})(\d)/, "$1)$2")
		if (tel.length == 9) {
			tel = tel.replace(/(.{1})$/, "-$1")
		} else if (tel.length == 10) {
			tel = tel.replace(/(.{2})$/, "-$1")
		} else if (tel.length == 11) {
			tel = tel.replace(/(.{3})$/, "-$1")
		} else if (tel.length == 12) {
			tel = tel.replace(/(.{4})$/, "-$1")
		} else if (tel.length > 12) {
			tel = tel.replace(/(.{4})$/, "-$1")
		}
		return tel;
	}

	function mCPF(cpf) {
		cpf = cpf.replace(/\D/g, "")
		cpf = cpf.replace(/(\d{3})(\d)/, "$1.$2")
		cpf = cpf.replace(/(\d{3})(\d)/, "$1.$2")
		cpf = cpf.replace(/(\d{3})(\d{1,2})$/, "$1-$2")
		return cpf
	}
	function mCEP(cep) {
		cep = cep.replace(/\D/g, "")
		cep = cep.replace(/^(\d{2})(\d)/, "$1.$2")
		cep = cep.replace(/\.(\d{3})(\d)/, ".$1-$2")
		return cep
	}

	function mRG(rg) {
		rg = rg.replace(/\D/g, "");
		rg = rg.replace(/(\d{3})(\d)/, "$1.$2")
		rg = rg.replace(/(\d{3})(\d)/, "$1.$2")
		rg = rg.replace(/(\d{3})(\d)/, "$1.$2")
		return rg
	}
	
</script>